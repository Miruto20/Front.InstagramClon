{"ast":null,"code":"var _jsxFileName = \"/home/miruto20/Documents/Proyectos/instagram.Proy.Beta.Front/front.instagram/src/components/DeleteComentPost/index.js\",\n  _s = $RefreshSig$();\nimport \"./style.css\";\nimport { useTokenContext } from \"../../context/TokenContext\";\nimport { useNavigate } from \"react-router-dom\";\nimport { toast } from \"react-toastify\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst DeleteComentPost = _ref => {\n  _s();\n  let {\n    idUser,\n    idComent,\n    setPost,\n    post,\n    idPost\n  } = _ref;\n  const navigate = useNavigate();\n  const {\n    token\n  } = useTokenContext();\n  return /*#__PURE__*/_jsxDEV(\"button\", {\n    className: \"delete\"\n    //fetch para borrar el post de la BBDD\n    ,\n    onClick: async () => {\n      try {\n        const res = await fetch(`http://localhost:4000/coments/${idComent}`, {\n          method: \"DELETE\",\n          body: JSON.stringify({\n            idUser,\n            idComent,\n            idPost\n          }),\n          headers: {\n            \"Content-Type\": \"application/json\",\n            Authorization: token\n          }\n        });\n        const body = await res.json();\n        if (!res.ok) {\n          throw new Error(body.message);\n        }\n        setPost(body.data.postComent);\n        toast.success(body.message);\n      } catch (error) {\n        console.error(error);\n        toast.error(error.message);\n      } finally {}\n    },\n    children: /*#__PURE__*/_jsxDEV(\"ion-icon\", {\n      name: \"trash-outline\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 12,\n    columnNumber: 5\n  }, this);\n};\n_s(DeleteComentPost, \"oeQChelorh6jURl/YidKe4+6geo=\", false, function () {\n  return [useNavigate, useTokenContext];\n});\n_c = DeleteComentPost;\nexport default DeleteComentPost;\nvar _c;\n$RefreshReg$(_c, \"DeleteComentPost\");","map":{"version":3,"names":["useTokenContext","useNavigate","toast","DeleteComentPost","idUser","idComent","setPost","post","idPost","navigate","token","res","fetch","method","body","JSON","stringify","headers","Authorization","json","ok","Error","message","data","postComent","success","error","console"],"sources":["/home/miruto20/Documents/Proyectos/instagram.Proy.Beta.Front/front.instagram/src/components/DeleteComentPost/index.js"],"sourcesContent":["import \"./style.css\";\nimport { useTokenContext } from \"../../context/TokenContext\";\nimport { useNavigate } from \"react-router-dom\";\nimport { toast } from \"react-toastify\";\n\nconst DeleteComentPost = ({ idUser, idComent, setPost, post, idPost }) => {\n  const navigate = useNavigate();\n\n  const { token } = useTokenContext();\n\n  return (\n    <button\n      className=\"delete\"\n      //fetch para borrar el post de la BBDD\n      onClick={async () => {\n        try {\n          const res = await fetch(`http://localhost:4000/coments/${idComent}`, {\n            method: \"DELETE\",\n            body: JSON.stringify({ idUser, idComent, idPost }),\n            headers: {\n              \"Content-Type\": \"application/json\",\n              Authorization: token,\n            },\n          });\n\n          const body = await res.json();\n          if (!res.ok) {\n            throw new Error(body.message);\n          }\n          setPost(body.data.postComent);\n\n          toast.success(body.message);\n        } catch (error) {\n          console.error(error);\n          toast.error(error.message);\n        } finally {\n        }\n      }}\n    >\n      <ion-icon name=\"trash-outline\"></ion-icon>\n    </button>\n  );\n};\n\nexport default DeleteComentPost;\n"],"mappings":";;AAAA,OAAO,aAAa;AACpB,SAASA,eAAe,QAAQ,4BAA4B;AAC5D,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,SAASC,KAAK,QAAQ,gBAAgB;AAAC;AAEvC,MAAMC,gBAAgB,GAAG,QAAiD;EAAA;EAAA,IAAhD;IAAEC,MAAM;IAAEC,QAAQ;IAAEC,OAAO;IAAEC,IAAI;IAAEC;EAAO,CAAC;EACnE,MAAMC,QAAQ,GAAGR,WAAW,EAAE;EAE9B,MAAM;IAAES;EAAM,CAAC,GAAGV,eAAe,EAAE;EAEnC,oBACE;IACE,SAAS,EAAC;IACV;IAAA;IACA,OAAO,EAAE,YAAY;MACnB,IAAI;QACF,MAAMW,GAAG,GAAG,MAAMC,KAAK,CAAE,iCAAgCP,QAAS,EAAC,EAAE;UACnEQ,MAAM,EAAE,QAAQ;UAChBC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;YAAEZ,MAAM;YAAEC,QAAQ;YAAEG;UAAO,CAAC,CAAC;UAClDS,OAAO,EAAE;YACP,cAAc,EAAE,kBAAkB;YAClCC,aAAa,EAAER;UACjB;QACF,CAAC,CAAC;QAEF,MAAMI,IAAI,GAAG,MAAMH,GAAG,CAACQ,IAAI,EAAE;QAC7B,IAAI,CAACR,GAAG,CAACS,EAAE,EAAE;UACX,MAAM,IAAIC,KAAK,CAACP,IAAI,CAACQ,OAAO,CAAC;QAC/B;QACAhB,OAAO,CAACQ,IAAI,CAACS,IAAI,CAACC,UAAU,CAAC;QAE7BtB,KAAK,CAACuB,OAAO,CAACX,IAAI,CAACQ,OAAO,CAAC;MAC7B,CAAC,CAAC,OAAOI,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC;QACpBxB,KAAK,CAACwB,KAAK,CAACA,KAAK,CAACJ,OAAO,CAAC;MAC5B,CAAC,SAAS,CACV;IACF,CAAE;IAAA,uBAEF;MAAU,IAAI,EAAC;IAAe;MAAA;MAAA;MAAA;IAAA;EAAY;IAAA;IAAA;IAAA;EAAA,QACnC;AAEb,CAAC;AAAC,GArCInB,gBAAgB;EAAA,QACHF,WAAW,EAEVD,eAAe;AAAA;AAAA,KAH7BG,gBAAgB;AAuCtB,eAAeA,gBAAgB;AAAC;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}