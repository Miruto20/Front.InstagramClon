{"ast":null,"code":"var _jsxFileName = \"/home/miruto20/Documents/Proyectos/instagram.Proy.Beta.Front/front.instagram/src/page/PostPage/index.js\",\n  _s = $RefreshSig$();\nimport { Link, useParams } from \"react-router-dom\";\nimport Post from \"../../components/Post/index\";\nimport ErrorMessage from \"../../components/ErrorMessage\";\nimport Spinner from \"../../components/Spinner\";\nimport usePostById from \"../../hooks/usePostById\";\nimport { useState } from \"react\";\nimport CommentForm from \"../../components/CommentForm/index\";\n\n// Página que carga un solo post\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst PostPage = () => {\n  _s();\n  // Recogemos el id de los params de la url\n  const {\n    id\n  } = useParams();\n  const [showCommentModal, setShowCommentModal] = useState(false);\n\n  // Llamamos al custom hook useEntryById y le pasamos el id que hemos recogido de los params. Este hook se va a encargar de crear los estados entry, loading y errorMessage y un useEffect que carge los datos de la API después del primer render\n  const {\n    post,\n    loading,\n    errorMessage,\n    addVoteToPost\n  } = usePostById(id);\n\n  // Hacemos destructuring del objeto post\n  const {\n    text,\n    image,\n    avatar,\n    username,\n    email,\n    place,\n    idUser,\n    rate,\n    owner,\n    ratedByMe,\n    valueRated,\n    createdAt\n  } = post;\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Post page\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }, this), errorMessage && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(ErrorMessage, {\n        msg: errorMessage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/\",\n        children: \"Volver a inicio\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true), loading && /*#__PURE__*/_jsxDEV(Spinner, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 19\n    }, this), Object.values(post).length > 0 && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Post, {\n        id: id,\n        text: text,\n        image: image,\n        avatar: avatar,\n        username: username,\n        email: email,\n        place: place,\n        idUser: idUser,\n        rate: rate,\n        owner: owner,\n        ratedByMe: ratedByMe,\n        valueRated: valueRated,\n        createdAt: createdAt,\n        addVoteToPost: addVoteToPost\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(CommentForm, {\n        idPost: id\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 5\n  }, this);\n};\n_s(PostPage, \"HKbfgTilFsDk4da7d4zNW4k4Iv0=\", false, function () {\n  return [useParams, usePostById];\n});\n_c = PostPage;\nexport default PostPage;\nvar _c;\n$RefreshReg$(_c, \"PostPage\");","map":{"version":3,"names":["Link","useParams","Post","ErrorMessage","Spinner","usePostById","useState","CommentForm","PostPage","id","showCommentModal","setShowCommentModal","post","loading","errorMessage","addVoteToPost","text","image","avatar","username","email","place","idUser","rate","owner","ratedByMe","valueRated","createdAt","Object","values","length"],"sources":["/home/miruto20/Documents/Proyectos/instagram.Proy.Beta.Front/front.instagram/src/page/PostPage/index.js"],"sourcesContent":["import { Link, useParams } from \"react-router-dom\";\nimport Post from \"../../components/Post/index\";\nimport ErrorMessage from \"../../components/ErrorMessage\";\nimport Spinner from \"../../components/Spinner\";\nimport usePostById from \"../../hooks/usePostById\";\nimport { useState } from \"react\";\n\nimport CommentForm from \"../../components/CommentForm/index\";\n\n// Página que carga un solo post\nconst PostPage = () => {\n  // Recogemos el id de los params de la url\n  const { id } = useParams();\n\n  const [showCommentModal, setShowCommentModal] = useState(false);\n\n  // Llamamos al custom hook useEntryById y le pasamos el id que hemos recogido de los params. Este hook se va a encargar de crear los estados entry, loading y errorMessage y un useEffect que carge los datos de la API después del primer render\n  const { post, loading, errorMessage, addVoteToPost } = usePostById(id);\n\n  // Hacemos destructuring del objeto post\n  const {\n    text,\n    image,\n    avatar,\n    username,\n    email,\n    place,\n    idUser,\n    rate,\n    owner,\n    ratedByMe,\n    valueRated,\n    createdAt,\n  } = post;\n\n  return (\n    <section>\n      <h2>Post page</h2>\n\n      {/* Si hay mensaje de error, pintamos el componente ErrorMessage y un link\n      para volver a inicio */}\n      {errorMessage && (\n        <>\n          <ErrorMessage msg={errorMessage} />\n          <Link to=\"/\">Volver a inicio</Link>\n        </>\n      )}\n      {loading && <Spinner />}\n\n      {/* Si el objeto post no está vacío, pintamos el componente Post con todos los datos del objeto */}\n      {Object.values(post).length > 0 && (\n        <>\n          <Post\n            id={id}\n            text={text}\n            image={image}\n            avatar={avatar}\n            username={username}\n            email={email}\n            place={place}\n            idUser={idUser}\n            rate={rate}\n            owner={owner}\n            ratedByMe={ratedByMe}\n            valueRated={valueRated}\n            createdAt={createdAt}\n            addVoteToPost={addVoteToPost}\n          />\n          <CommentForm idPost={id} />\n        </>\n      )}\n    </section>\n  );\n};\n\nexport default PostPage;\n"],"mappings":";;AAAA,SAASA,IAAI,EAAEC,SAAS,QAAQ,kBAAkB;AAClD,OAAOC,IAAI,MAAM,6BAA6B;AAC9C,OAAOC,YAAY,MAAM,+BAA+B;AACxD,OAAOC,OAAO,MAAM,0BAA0B;AAC9C,OAAOC,WAAW,MAAM,yBAAyB;AACjD,SAASC,QAAQ,QAAQ,OAAO;AAEhC,OAAOC,WAAW,MAAM,oCAAoC;;AAE5D;AAAA;AAAA;AACA,MAAMC,QAAQ,GAAG,MAAM;EAAA;EACrB;EACA,MAAM;IAAEC;EAAG,CAAC,GAAGR,SAAS,EAAE;EAE1B,MAAM,CAACS,gBAAgB,EAAEC,mBAAmB,CAAC,GAAGL,QAAQ,CAAC,KAAK,CAAC;;EAE/D;EACA,MAAM;IAAEM,IAAI;IAAEC,OAAO;IAAEC,YAAY;IAAEC;EAAc,CAAC,GAAGV,WAAW,CAACI,EAAE,CAAC;;EAEtE;EACA,MAAM;IACJO,IAAI;IACJC,KAAK;IACLC,MAAM;IACNC,QAAQ;IACRC,KAAK;IACLC,KAAK;IACLC,MAAM;IACNC,IAAI;IACJC,KAAK;IACLC,SAAS;IACTC,UAAU;IACVC;EACF,CAAC,GAAGf,IAAI;EAER,oBACE;IAAA,wBACE;MAAA,UAAI;IAAS;MAAA;MAAA;MAAA;IAAA,QAAK,EAIjBE,YAAY,iBACX;MAAA,wBACE,QAAC,YAAY;QAAC,GAAG,EAAEA;MAAa;QAAA;QAAA;QAAA;MAAA,QAAG,eACnC,QAAC,IAAI;QAAC,EAAE,EAAC,GAAG;QAAA,UAAC;MAAe;QAAA;QAAA;QAAA;MAAA,QAAO;IAAA,gBAEtC,EACAD,OAAO,iBAAI,QAAC,OAAO;MAAA;MAAA;MAAA;IAAA,QAAG,EAGtBe,MAAM,CAACC,MAAM,CAACjB,IAAI,CAAC,CAACkB,MAAM,GAAG,CAAC,iBAC7B;MAAA,wBACE,QAAC,IAAI;QACH,EAAE,EAAErB,EAAG;QACP,IAAI,EAAEO,IAAK;QACX,KAAK,EAAEC,KAAM;QACb,MAAM,EAAEC,MAAO;QACf,QAAQ,EAAEC,QAAS;QACnB,KAAK,EAAEC,KAAM;QACb,KAAK,EAAEC,KAAM;QACb,MAAM,EAAEC,MAAO;QACf,IAAI,EAAEC,IAAK;QACX,KAAK,EAAEC,KAAM;QACb,SAAS,EAAEC,SAAU;QACrB,UAAU,EAAEC,UAAW;QACvB,SAAS,EAAEC,SAAU;QACrB,aAAa,EAAEZ;MAAc;QAAA;QAAA;QAAA;MAAA,QAC7B,eACF,QAAC,WAAW;QAAC,MAAM,EAAEN;MAAG;QAAA;QAAA;QAAA;MAAA,QAAG;IAAA,gBAE9B;EAAA;IAAA;IAAA;IAAA;EAAA,QACO;AAEd,CAAC;AAAC,GA/DID,QAAQ;EAAA,QAEGP,SAAS,EAK+BI,WAAW;AAAA;AAAA,KAP9DG,QAAQ;AAiEd,eAAeA,QAAQ;AAAC;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}